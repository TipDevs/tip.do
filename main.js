(()=>{var e={56:(e,n,t)=>{"use strict";e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},72:e=>{"use strict";var n=[];function t(e){for(var t=-1,o=0;o<n.length;o++)if(n[o].identifier===e){t=o;break}return t}function o(e,o){for(var r={},s=[],a=0;a<e.length;a++){var c=e[a],d=o.base?c[0]+o.base:c[0],l=r[d]||0,p="".concat(d," ").concat(l);r[d]=l+1;var u=t(p),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)n[u].references++,n[u].updater(f);else{var m=i(f,o);o.byIndex=a,n.splice(a,0,{identifier:p,updater:m,references:1})}s.push(p)}return s}function i(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,i){var r=o(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<r.length;s++){var a=t(r[s]);n[a].references--}for(var c=o(e,i),d=0;d<r.length;d++){var l=t(r[d]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}r=c}}},113:e=>{"use strict";e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},159:(e,n,t)=>{"use strict";t.d(n,{A:()=>a});var o=t(601),i=t.n(o),r=t(314),s=t.n(r)()(i());s.push([e.id,'* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    scrollbar-width: none;\n}\nbody {\n    display: grid;\n    position: relative;\n    grid-auto-rows: 1fr;\n    width: 100dvw;\n    /* height: 100dvh; */\n}\nbody.with_aside {\n    grid-template: 1fr/1.4fr 5.2fr;\n    gap: 30px;\n    padding: 0 30px;\n}\n\nbody.no_aside {\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    padding: 15px 0 0 20px;\n}\n\naside {\n    width: 300px;\n    position: fixed;\n    background-color: #7b61ff0c;\n    grid-column: 1/span 2;\n    grid-row: 1/5;\n    justify-items: center;\n    box-shadow: 0 0 10px #7b61ff6f;\n    z-index: 5;\n    padding: 20px;\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    height: 100%;\n    overflow: hidden;\n    /* display: none; */\n}\n\n.fa-lg,\n.edit_btn {\n    color: #000000;\n}\n\n.hamburger_nav {\n    width: 100%;\n    display: flex;\n    gap: 20px;\n    justify-content: space-between;\n    align-items: center;\n    /* padding: 10px; */\n    flex: 0.5;\n}\n/* .hamburger_nav .fa-lg:hover {\n        background-color: #2e2e2e68;\n        padding: 3px 10px;\n        border-radius: 4px;\n    } */\n\n#username_form {\n    display: none;\n}\n.button_background {\n    background-color: #7b61ff;\n    padding: 6px 0;\n    width: 40px;\n    border-radius: 4px;\n    text-align: center;\n    cursor: pointer;\n}\n.button_background.hide {\n    background: none;\n    &:hover {\n        background-color: #2e2e2e68;\n    }\n}\n.button_background.show {\n    display: none;\n    /* display: block; */\n    width: 60px;\n    grid-column: 1/2;\n    grid-row: 1/1;\n    height: 40px;\n    place-content: center;\n    position: sticky;\n    top: 5%;\n    z-index: 999;\n}\n\n\naside h2 {\n    font-size: 0.9rem;\n}\n\naside p {\n    font-size: 0.97rem;\n}\naside p span {\n    color: #7B61FF;\n    font-size: 1.2rem;\n    font-weight: bold;\n}\n.priorities {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    flex: 3;\n    button {\n        text-align: left;\n        height: 3rem;\n        padding-left: 10px;\n    }\n}\n.priorities>button:nth-child(2) {\n    background-color: #C3B1E1;\n    border: none;\n    &:hover {\n        background-color: #b29ed7;\n    }\n}\n.priorities>button:nth-child(3) {\n    background-color: #E0E0E0;\n    border: none;\n    &:hover {\n        background-color: #d4d4d4;\n    }\n}\n.priorities>button:nth-child(4) {\n    background-color: #F4F4F4;\n    border: none;\n    &:hover {\n        background-color: #eaeaea;\n    }\n}\n.priorities>button {\n    border-radius: 10px;\n    font-size: 1.1rem;\n}\n.sort_todo_by_date {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    flex: 2.5;\n    margin-top: 20px;\n    button {\n        text-align: left;\n        height: 2rem;\n        background: none;\n        border: none;\n        outline: none;\n        padding-left: 10px;\n        border-radius: 4px;\n        font-size: 1.2rem;\n        &:hover {\n            background-color: #2e2e2e68;\n        }\n    }\n    \n}\n.Add_new_project {\n    text-align: left;\n    padding-left: 10px;\n    padding-top: 3px;\n    padding-bottom: 3px;\n    border: none;\n    background: none;\n}\n#pop_up_form {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n}\n.projects {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    overflow: scroll;\n    z-index: 1;\n}\n.project_container {\n    flex: 12;\n    display: flex;\n    gap: 20px;\n    flex-direction: column;\n    z-index: 100;\n    overflow: auto;\n}\n\n.project_container>.projects>div {\n    height: 2em;\n    width: 100%;\n    display: flex;\n    padding-left: 10px;\n    padding-right: 10px;\n    justify-content: space-between;\n    align-items: center;\n    background-color: #7d63ff2b;\n    border-left: 5px solid #7B61FF;\n    border-radius: 5px;\n    gap: 10px;\n    &:hover {\n        background-color: #8080804b;\n    }\n}\n\n.project_container>.projects>div>.project_wrap {\n    flex: 2.5;\n}\n.project_container>.projects>div>.project_wrap>button {\n    background: none;\n    width: 100%;\n    height: 100%;\n    outline: none;\n    border: none;\n    text-align: left;\n}\n.project_container>.projects>div>#project_delBTN_container>.delete_project-btn{\n    cursor: pointer;\n}\nmain {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    height: 100dvh;\n    align-items: center;\n    justify-content: center;\n    padding: 20px 0;\n    z-index: 1;\n    overflow: auto;\n    padding-bottom: 30px;\n}\nmain.with_aside {\n    /* background-color: #7B61FF; */\n    grid-column: 2/-1;\n    grid-row: 1/5;\n}\n/* main.no_aside {\n} */\n.tasks {\n    flex: 5;\n    width: 90%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 20px;\n    position: relative;\n    z-index: 1;\n}\n\n.tasks.empty {\n    justify-content: center;\n    align-items: center;\n    height: 90dvh;\n}\n#no_task_message {\n    position: fixed;\n    top: 25%;\n    background: none;\n    border: none;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n}\n#no_task_message > img {\n    width: 250px;\n    height: auto;\n    /* position: fixed; */\n    /* bottom: 35%; */\n}\n\n#no_task_message > #message_wrapper {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    position: absolute;\n    bottom: 20%;\n    height: fit-content;\n}\n#no_task_message > #message_wrapper >p,\n#no_task_message>#message_wrapper>span {\n    /* position: absolute;\n    bottom: 30%; */\n    font-size: 1.5rem;\n    font-style: italic;\n    white-space: nowrap;\n    /* font-weight: bold; */\n}\n\n#no_task_message>#message_wrapper>span {\n    color: #7B61FF;\n}\n\n.tasks > .tasks_items {\n    display: flex;\n    gap: 20px;\n}\n\n.tasks_items > input[type="checkbox"] {\n    width: 24px;\n    height: 24px;\n    cursor: pointer;\n}\n\n.tasks > div {\n    background-color: #7b61ff38;\n    height: fit-content;\n    padding: 20px 0;\n    padding-left: 20px;\n    border-left: 5px solid #7B61FF;\n    border-radius: 10px;\n    position: relative;\n    z-index: 1;\n}\n\n.tasks>div.with_aside {\n    width: 90%;\n}\n\n.tasks>div.no_aside {\n    width: 70%;\n}\n\n.tasks_items > .tasks_info {\n    display: flex;\n    flex-direction: column;\n    gap: 5px;\n}\n.fa-2xl.add_task {\n    color: #7B61FF;\n    cursor: pointer;\n    position: fixed;\n    top: 80%;\n    right: 15%;\n    z-index: 1000;\n}\n\nmain #new_task_form_container {\n    width: 300px;\n    height: fit-content;\n    padding: 10px 0;\n    position: fixed;\n    top: 20%;\n    z-index: 2000;\n    background-color: #7b61ff7e;\n    backdrop-filter: blur(9px);\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    justify-content: center;\n    align-items: center;\n    border-radius: 10px;\n}\n\nmain #new_task_form_container #new_task_form {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    padding: 0 20px;\n    gap: 10px;\n    justify-content: center;\n    input {\n        padding-left: 10px;\n        outline: none;\n        border: none;\n    }\n}\nmain #new_task_form label {\n    display: flex;\n    flex-direction: column;\n    gap: 3px;\n    font-size: 1.3rem;\n}\n#new_task_form input,\n#new_task_form button,\n#new_task_form select {\n    height: 2em;\n}\n\n/* All buttons and icons */\nbutton, .edit_btn, .hide_aside {\n    cursor: pointer;\n}\n\n@media(max-width: 870px) {\n    \n}\n\n@media(max-width: 760px) {\n    body {\n        display: flex;\n        flex-direction: column;\n        /* height: 100dvh; */\n    }\n    body.no_aside {\n        padding: 10px 0 20px 0;\n    }\n    body.with_aside {\n        padding: 0 0 20px 0;\n    }\n    aside {\n        width: 100%;\n        height: 100dvh;\n        position: relative;\n        /* padding-bottom: 20px; */\n        overflow: scroll;\n        display: none;\n    }\n    main {\n        display: flex;\n        place-self: center;\n        width: 100%;\n    }\n    .button_background.show {\n        display: block;\n        margin-left: 10PX;\n    }\n    .tasks {\n        width: 100%;\n    }\n    .tasks.no_aside {\n        width: 100%;\n    }\n    #no_task_message>#message_wrapper{\n        bottom: 27%;\n    }\n    #no_task_message>#message_wrapper>p,\n    #no_task_message>#message_wrapper>span {\n    font-size: 1rem;\n    /* max-width: 20ch; */\n    text-align: center;\n    /* white-space: unset; */\n    }\n}',""]);const a=s},224:function(e,n,t){e=t.nmd(e),function(t){"use strict";var o={};t.PubSub?(o=t.PubSub,console.warn("PubSub already loaded, using existing version")):(t.PubSub=o,function(e){var n={},t=-1;function o(e,n,t){try{e(n,t)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function i(e,n,t){e(n,t)}function r(e,t,r,s){var a,c=n[t],d=s?i:o;if(Object.prototype.hasOwnProperty.call(n,t))for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&d(c[a],e,r)}function s(e){var t=String(e);return Boolean(Object.prototype.hasOwnProperty.call(n,t)&&function(e){var n;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n))return!0;return!1}(n[t]))}function a(e,n,t,o){var i=function(e,n,t){return function(){var o=String(e),i=o.lastIndexOf(".");for(r(e,e,n,t);-1!==i;)i=(o=o.substr(0,i)).lastIndexOf("."),r(e,o,n,t);r(e,"*",n,t)}}(e="symbol"==typeof e?e.toString():e,n,o);return!!function(e){for(var n=String(e),t=s(n)||s("*"),o=n.lastIndexOf(".");!t&&-1!==o;)o=(n=n.substr(0,o)).lastIndexOf("."),t=s(n);return t}(e)&&(!0===t?i():setTimeout(i,0),!0)}e.publish=function(n,t){return a(n,t,!1,e.immediateExceptions)},e.publishSync=function(n,t){return a(n,t,!0,e.immediateExceptions)},e.subscribe=function(e,o){if("function"!=typeof o)return!1;e="symbol"==typeof e?e.toString():e,Object.prototype.hasOwnProperty.call(n,e)||(n[e]={});var i="uid_"+String(++t);return n[e][i]=o,i},e.subscribeAll=function(n){return e.subscribe("*",n)},e.subscribeOnce=function(n,t){var o=e.subscribe(n,function(){e.unsubscribe(o),t.apply(this,arguments)});return e},e.clearAllSubscriptions=function(){n={}},e.clearSubscriptions=function(e){var t;for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&0===t.indexOf(e)&&delete n[t]},e.countSubscriptions=function(e){var t,o,i=0;for(t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&0===t.indexOf(e)){for(o in n[t])i++;break}return i},e.getSubscriptions=function(e){var t,o=[];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&0===t.indexOf(e)&&o.push(t);return o},e.unsubscribe=function(t){var o,i,r,s="string"==typeof t&&(Object.prototype.hasOwnProperty.call(n,t)||function(e){var t;for(t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&0===t.indexOf(e))return!0;return!1}(t)),a=!s&&"string"==typeof t,c="function"==typeof t,d=!1;if(!s){for(o in n)if(Object.prototype.hasOwnProperty.call(n,o)){if(i=n[o],a&&i[t]){delete i[t],d=t;break}if(c)for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&i[r]===t&&(delete i[r],d=!0)}return d}e.clearSubscriptions(t)}}(o)),void 0!==e&&e.exports&&(n=e.exports=o),n.PubSub=o,e.exports=n=o}("object"==typeof window&&window||this||t.g)},314:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t="",o=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),o&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),o&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t}).join("")},n.i=function(e,t,o,i,r){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(o)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var d=0;d<e.length;d++){var l=[].concat(e[d]);o&&s[l[0]]||(void 0!==r&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),n.push(l))}},n}},540:e=>{"use strict";e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},601:e=>{"use strict";e.exports=function(e){return e[1]}},659:e=>{"use strict";var n={};e.exports=function(e,t){var o=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var i=void 0!==t.layer;i&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,i&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var r=t.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),n.styleTagTransform(o,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}}},n={};function t(o){var i=n[o];if(void 0!==i)return i.exports;var r=n[o]={id:o,loaded:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(e=n.currentScript.src),!e)){var o=n.getElementsByTagName("script");if(o.length)for(var i=o.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=o[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.nc=void 0,(()=>{"use strict";var e=t(72),n=t.n(e),o=t(825),i=t.n(o),r=t(659),s=t.n(r),a=t(56),c=t.n(a),d=t(540),l=t.n(d),p=t(113),u=t.n(p),f=t(159),m={};m.styleTagTransform=u(),m.setAttributes=c(),m.insert=s().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=l(),n()(f.A,m),f.A&&f.A.locals&&f.A.locals;var h=t(224),b=t.n(h);const y=function(){const e=document.querySelector(".show"),n=document.querySelector(".hide"),t=document.querySelector("aside"),o=document.querySelector("main"),i=document.querySelector("body");return{hideAsideEvent:function(n){n.matches?(t.style.display="none",i.classList.remove("with_aside"),i.classList.add("no_aside"),o.style.display="flex",o.classList.remove("with_aside"),o.classList.add("no_aside"),e.style.display="block"):(t.style.display="none",i.classList.remove("with_aside"),i.classList.add("no_aside"),o.classList.remove("with_aside"),o.style.display="flex",e.style.display="block")},showAsideEvent:n=>{n.matches?(t.style.display="flex",i.classList.remove("no_aside"),i.classList.add("with_aside"),o.style.display="none",e.style.display="none"):(t.style.display="flex",i.classList.remove("no_aside"),i.classList.add("with_aside"),o.classList.add("with_aside"),o.classList.remove("no_aside"),e.style.display="none",o.style.display="flex")},showAside:e,hideAside:n}},g=t.p+"9cad510c4e725d7f76d2.webp",x=function(){return{EVENTS:{SAVE_Task:"save to-do to project",DELETE_Task:"delete to-do from project",EDIT_Task:"edit and update to-do in project"},PRIORITIES:{high:"High",medium:"Medium",low:"Low"}}};class v{constructor(e,n,t="Medium",o){this.title=e,this.description=n,this.priority=t,this.dueDate=o,this.id=crypto.randomUUID()}}const _=()=>({getProjectTaskStorage:()=>JSON.parse(localStorage.getItem("Project"))||[],saveTaskToProject:(e,n)=>{n.tasks.push(e)}});b().subscribe("save to-do to project",(e,{task:n,projectId:t})=>{const o=_(),i=o.getProjectTaskStorage().map(e=>(e.id===t&&(o.saveTaskToProject(n,e),b().publish(w.displayTasks,e)),e));localStorage.setItem("Project",JSON.stringify(i))}),b().subscribe("delete to-do from project",(e,{taskId:n,projectId:t})=>{const o=_().getProjectTaskStorage().map(e=>{if(t===e.id){const t=e.tasks.filter(e=>e.id!==n);e.tasks=t,b().publish(w.displayTasks,e)}return e});localStorage.setItem("Project",JSON.stringify(o))}),b().subscribe("edit and update to-do in project",(e,{newTitle:n,newDescription:t,newPriority:o=x.PRIORITIES.medium,newDueDate:i,taskId:r,projectId:s})=>{const a=_().getProjectTaskStorage().map(e=>{if(e.id===s){const s=e.tasks.map(e=>(r===e.id&&(e.title=n,e.description=t,e.priority=o,e.dueDate=i),e));e.tasks=s,b().publish(w.displayTasks,e)}return e});localStorage.setItem("Project",JSON.stringify(a))}),b().subscribe("Priority display",(e,n)=>{!function(e){const n=JSON.parse(localStorage.getItem("Project")).flatMap(n=>n.tasks.filter(n=>n.priority===e));console.log(n),b().publish(w.priorityDisplay,{priorityTask:n,priority:e})}(n)});const w={displayTasks:"Display task in project clicked",displayProjects:"Display projects",priorityDisplay:"Display task by priority",updateUsername:"Edit and update username"},k=()=>{const e=JSON.parse(localStorage.getItem("Project"))||[];return{displayProjects:()=>{const n=document.querySelector(".projects");n.innerHTML="",e.forEach(e=>{const t=document.createElement("div");t.dataset.id=`${e.id}`;const o=document.createElement("div");o.classList.add("project_wrap");const i=document.createElement("button");i.classList.add("projectBTN"),i.setAttribute("data-id",e.id),i.textContent=e.title;const r=document.createElement("div");r.dataset.id="project_delBTN_container";const s=document.createElement("i");s.classList.add("fa-regular","fa-circle-xmark","delete_project-btn"),s.id=e.id,r.appendChild(s),"Default"===e.title?(o.appendChild(i),t.appendChild(o)):(o.appendChild(i),t.appendChild(o),t.appendChild(r)),n.appendChild(t)})},displayTasks:e=>{const n=document.querySelector(".tasks");n.innerHTML="",n.dataset.id=e.id,e.tasks.length>0?e.tasks.map(e=>{const t=document.querySelector(`#${e.title}-${e.id}`);t&&t.remove(),n.innerHTML+=`\n                    <div class="tasks_items, with_aside" id="${e.title}-${e.id}">\n                        <input type="checkbox">\n                        <div class="tasks_info">\n                            <p id="${e.title}">${e.title}</p>\n                            <p id="description">${e.description}</p>\n                            <p id="due_date">${e.dueDate}</p>\n                        </div>\n                    </div>\n                    `}):(n.classList.add("empty"),n.innerHTML+=`\n            <div id=no_task_message>\n            <img src="${g}" alt="tip.do logo">\n            <div id="message_wrapper">\n            <p>No task in</p>\n            <span>${e.title}</span>\n            </div>\n            </div>\n            `);const t=document.getElementById("showTaskWrapper");t.style.display="block",t.innerHTML+=`<i class="fa-solid fa-square-plus fa-2xl add_task" id="${e.id}"></i>`},prioritySortingDisplay:(e,n)=>{const t=document.querySelector(".tasks");document.querySelector("#showTaskWrapper").style.display="none",t.innerHTML="",e.length>0?e.forEach(e=>{t.innerHTML+=`\n                <div class="tasks_items, with_aside" id="${e.title}-${e.id}">\n                    <input type="checkbox">\n                    <div class="tasks_info">\n                        <p id="${e.title}">${e.title}</p>\n                        <p id="description">${e.description}</p>\n                        <p id="due_date">${e.dueDate}</p>\n                    </div>\n                </div>\n                `}):(t.classList.add("empty"),t.innerHTML+=`\n            <div id=no_task_message>\n            <img src="${g}" alt="tip.do logo">\n            <div id="message_wrapper">\n            <p>No task with</p>\n            <span>${n} priority</span>\n            </div>\n            </div>\n            `)}}},j=()=>{const e=JSON.parse(localStorage.getItem("Username"))||[];console.log(e._username);const n=document.querySelector("#username");if(Object.keys(e).length>0)if(""!==e._username){const t=e._username.charAt(0).toUpperCase()+e._username.slice(1).toLowerCase();n.textContent=`${t}`}else n.textContent="Username";else n.textContent="Username"};b().subscribe(w.displayProjects,()=>{k().displayProjects()}),b().subscribe(w.displayTasks,(e,n)=>{k().displayTasks(n)}),b().subscribe(w.priorityDisplay,(e,{priorityTask:n,priority:t})=>{k().prioritySortingDisplay(n,t)}),b().subscribe(w.updateUsername,()=>{j()});const S=()=>({showProject:()=>{b().publish(w.displayProjects)},showTasks:e=>{b().publish(w.displayTasks,e)}});class T{constructor(e){this.title=e,this.tasks=[],this.id=crypto.randomUUID()}}const P="save project to local storage",E="delete project from local storage",O=(()=>{const e=()=>JSON.parse(localStorage.getItem("Project"))||[];return{getProject:e,saveProject:n=>{const t=e();if(Array.isArray(n))return;const o=t.findIndex(e=>e.id===n.id);-1!==o?t[o]=n:t.push(n),localStorage.setItem("Project",JSON.stringify(t))}}})();b().subscribe(P,(e,n)=>{O.saveProject(n),b().publish(w.displayProjects)}),b().subscribe(E,(e,n)=>{const t=O.getProject().filter(e=>("Default"===e.title&&b().publish(w.displayTasks,e),e.id!==n));localStorage.setItem("Project",JSON.stringify(t)),b().publish(w.displayProjects)});const L=()=>{const e=e=>{b().publish(P,e)};return{addNewProject:e,deleteProject:e=>{b().publish(E,e)},initDefaultProject:()=>{const n=O.getProject();console.log(n);let t=n.find(e=>"Default"===e.title);return t||(t=new T("Default"),e(t)),t}}};L().initDefaultProject(),b().subscribe("edit username",(e,n)=>{var t;t=n,localStorage.setItem("Username",JSON.stringify(t))});const I=new class{_username="";get userName(){return this._username}set userName(e){this._username=e}},A=y(),D=window.matchMedia("(max-width: 760px)"),N="show task";b().subscribe("update project list on dom",()=>{S().showProject()}),b().subscribe(N,(e,n)=>{S().showTasks(n),q()}),(()=>{const e=document.querySelector(".Add_new_project");e.addEventListener("click",()=>{const n=document.querySelector("#pop_up_form");n&&n.remove();const t=document.createElement("form");t.innerHTML='\n        <input id="new_project_title">\n        <button id="Add_new_project">Add New Project</button>\n        ',t.id="pop_up_form",e.after(t),t.addEventListener("submit",n=>{n.preventDefault();const o=document.querySelector("#new_project_title");if(""===o.value.trim())return;const i=new T(o.value.trim());L().addNewProject(i),setTimeout(()=>{const n=document.createElement("div");n.classList.add("alert"),n.textContent="New project added",e.after(n),setTimeout(()=>{n.remove()},2e3)},10),t.remove(),b().publish(w.displayTasks,i),D.matches&&A.hideAsideEvent(D)})}),document.querySelector(".projects").addEventListener("click",e=>{const n=e.target.closest(".delete_project-btn");if(n){const e=n.id;L().deleteProject(e),S().showProject()}})})();const q=()=>{const e=document.querySelector("main");document.querySelector("#showTaskWrapper").addEventListener("click",n=>{n.target.closest(".add_task");const t=document.getElementById("new_task_form_container");t&&t.remove();const o=document.createElement("div");o.id="new_task_form_container";const i=document.createElement("h2");i.textContent="Add New Task Form";const r=document.createElement("form");r.id="new_task_form",r.innerHTML='\n                    <label for="task_title">Task Title\n                    <input type="text" id="task_title" name="task_title" required>\n                    </label>\n                    <label for="task_description">Task Description\n                    <textarea id="task_description" name="task_description" required></textarea>\n                    </label>\n                    <label for="priorities">Choose Priority\n                    <select id="priorities" name="priorities">\n                    <option value="High">High</option>\n                    <option value="Medium">Medium</option>\n                    <option value="Low">Low</option>\n                    </select>\n                    </label>\n                    <label for="dueDate">Due Date\n                    <input type="date" id="dueDate" name="dueDate" required>\n                    </label>\n                    ';const s=document.createElement("button");s.type="submit",s.classList.add("submit"),s.textContent="Add New Task",r.appendChild(s),C(r),o.append(i,r),e.appendChild(o)})},C=e=>{const n=document.querySelector(".tasks").dataset.id;e.addEventListener("submit",t=>{t.preventDefault();const o=document.querySelector("#new_task_form_container"),i=e.querySelector("#task_title"),r=e.querySelector("#task_description"),s=e.querySelector("#priorities"),a=e.querySelector("#dueDate");var c,d;c=new v(i?.value.trim(),r?.value.trim(),s?.value,a?.value),d=n,console.log(`New Task: ${c}\n Container Id: ${d}`),b().publish("save to-do to project",{task:c,projectId:d}),o.remove()})};A.showAside.addEventListener("click",()=>{A.showAsideEvent(D)}),A.hideAside.addEventListener("click",()=>{A.hideAsideEvent(D)}),document.querySelectorAll(".priorities > button").forEach(e=>{e.addEventListener("click",()=>{const n=e.id;b().publish("Priority display",n),D.matches&&A.hideAsideEvent(D)})}),function(){const e=document.querySelector("#username_container"),n=document.querySelector("#username_form");e.addEventListener("click",t=>{t.target.closest(".edit_btn"),e.style.display="none",n.style.display="block"}),n.addEventListener("submit",t=>{t.preventDefault();const o=n.querySelector("input");I.userName=`${o.value}`,e.style.display="block",n.reset(),n.style.display="none",b().publish("edit username",I),b().publish(w.updateUsername)})}(),(()=>{const e=JSON.parse(localStorage.getItem("Project"))||[],n=document.querySelector(".projects");n.addEventListener("click",t=>{const o=t.target.closest(".projectBTN");if(!o||!n.contains(o))return;const i=o.dataset.id;e.forEach(e=>{if(e.id===i){const n=document.getElementById("new_task_form_container");n&&n.remove(),b().publish(N,e),D.matches&&A.hideAsideEvent(D)}})})})(),function(){const e=y(),n=window.matchMedia("(max-width: 760px)");function t(t){t.matches?e.hideAsideEvent(n):e.showAsideEvent(n)}document.addEventListener("DOMContentLoaded",()=>{t(n)}),n.addEventListener("change",()=>{t(n)})}(),document.addEventListener("DOMContentLoaded",()=>{j(),S().showProject(),JSON.parse(localStorage.getItem("Project")).map(e=>{"Default"===e.title&&b().publish(w.displayTasks,e)})})})()})();